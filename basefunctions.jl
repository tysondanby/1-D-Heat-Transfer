insert_and_dedup!(v::Vector, x) = (splice!(v, searchsorted(v,x), [x]); v)